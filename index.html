<!DOCTYPE html>
<html>
<head>
  <title>Admin</title>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-database-compat.js"></script>
</head>
<body style="font-family:Arial;padding:20px">
  <h1>HEC ADMIN</h1>
  <input id="u" placeholder="Username" style="width:200px;padding:10px"><br><br>
  <input id="p" type="password" placeholder="Password" style="width:200px;padding:10px"><br><br>
  <button onclick="add()" style="padding:10px 20px;background:red;color:white;border:none">ADD USER</button>
  <p id="msg" style="color:green"></p>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDqOWLMJvEPLvRQr7DPhl2H93AAf6Fr3AU",
      databaseURL: "https://hec-bypass-default-rtdb.asia-southeast1.firebasedatabase.app"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    async function add() {
      const u = document.getElementById('u').value;
      const p = document.getElementById('p').value;
      if (!u || !p) return alert("Fill both");
      const hash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(p));
      const hex = Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2,'0')).join('');
      db.ref('users').push({ username: u, password: hex, uids: [], freeuids: [], secrets: [] });
      document.getElementById('msg').innerText = "USER ADDED!";
      document.getElementById('u').value = '';
      document.getElementById('p').value = '';
    }
  </script>
</body>
</html>
